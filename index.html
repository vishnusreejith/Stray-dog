<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stray Paws Identifier</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .upload-area {
            border: 2px dashed #cbd5e1;
            transition: all 0.3s ease;
        }
        .upload-area.dragover {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 flex flex-col items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-2xl mx-auto bg-white rounded-2xl shadow-lg p-6 md:p-10">
        <header class="text-center mb-8">
            <div class="flex items-center justify-center gap-3 mb-2">
                 <svg class="w-10 h-10 text-amber-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M11.2495 16.3213C11.1666 16.313 11.079 16.3093 11 16.3093C10.921 16.3093 10.8334 16.313 10.7505 16.3213C7.03281 16.7112 4.50002 18.2936 4.50002 20.0633V20.4998H17.5V20.0633C17.5 18.2936 14.9672 16.7112 11.2495 16.3213ZM11 15.0001C14.3137 15.0001 17 12.3138 17 9.00009C17 5.68638 14.3137 3.00009 11 3.00009C7.68629 3.00009 5 5.68638 5 9.00009C5 12.3138 7.68629 15.0001 11 15.0001ZM11 13.0001C8.79086 13.0001 7 11.2092 7 9.00009C7 6.79095 8.79086 5.00009 11 5.00009C13.2091 5.00009 15 6.79095 15 9.00009C15 11.2092 13.2091 13.0001 11 13.0001Z"></path></svg>
                <h1 class="text-3xl md:text-4xl font-bold text-slate-900">Stray Paws Identifier</h1>
            </div>
            <p class="text-slate-500 mt-2">Upload a photo to identify the breed of an Indian stray dog.</p>
        </header>

        <main>
            <!-- File Upload Section -->
            <div id="upload-container">
                <label for="dog-photo-upload" class="cursor-pointer">
                    <div id="upload-area" class="upload-area rounded-lg p-12 text-center">
                        <input type="file" id="dog-photo-upload" class="hidden" accept="image/*">
                        <div class="flex flex-col items-center justify-center">
                            <svg class="w-16 h-16 text-slate-400 mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 16.5V9.75m0 0l-3.75 3.75M12 9.75l3.75 3.75M3 17.25V6.75A2.25 2.25 0 015.25 4.5h13.5A2.25 2.25 0 0121 6.75v10.5A2.25 2.25 0 0118.75 19.5H5.25A2.25 2.25 0 013 17.25z" />
                            </svg>
                            <p class="font-semibold text-slate-700">Click to upload or drag and drop</p>
                            <p class="text-sm text-slate-500">PNG, JPG, or WEBP</p>
                        </div>
                    </div>
                </label>
            </div>

            <!-- Image Preview Section -->
            <div id="preview-container" class="hidden mt-6 text-center">
                <h2 class="text-xl font-semibold mb-4 text-slate-700">Image Preview</h2>
                <div class="relative inline-block">
                    <img id="image-preview" src="" alt="Preview of uploaded dog photo" class="max-w-full h-auto max-h-80 rounded-lg shadow-md">
                    <button id="remove-image-btn" class="absolute -top-3 -right-3 bg-white rounded-full p-1.5 shadow-lg text-slate-600 hover:text-red-500 hover:scale-110 transition-transform">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                          <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                        </svg>
                    </button>
                </div>
                <button id="identify-btn" class="mt-6 w-full md:w-auto bg-blue-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300">
                    Identify Dog
                </button>
            </div>

            <!-- Loading & Results Section -->
            <div id="result-section" class="mt-8 text-center hidden">
                <div id="loader-container" class="flex justify-center items-center">
                    <div class="loader"></div>
                    <p class="ml-4 text-slate-600 font-medium">Analyzing photo...</p>
                </div>
                
                <div id="result-content" class="hidden">
                    <!-- Result content will be injected here by JavaScript -->
                </div>
            </div>

            <!-- Disclaimer -->
            <div class="mt-10 text-center text-xs text-slate-400">
                <p><strong>Disclaimer:</strong> This is a demonstration tool. The breed identification is simulated and may not be accurate. For a real identification, please consult a veterinarian or an animal expert.</p>
            </div>
        </main>
    </div>

    <script>
        const uploadArea = document.getElementById('upload-area');
        const fileInput = document.getElementById('dog-photo-upload');
        const uploadContainer = document.getElementById('upload-container');
        const previewContainer = document.getElementById('preview-container');
        const imagePreview = document.getElementById('image-preview');
        const removeImageBtn = document.getElementById('remove-image-btn');
        const identifyBtn = document.getElementById('identify-btn');
        const resultSection = document.getElementById('result-section');
        const loaderContainer = document.getElementById('loader-container');
        const resultContent = document.getElementById('result-content');

        // --- Drag and Drop functionality ---
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            uploadArea.addEventListener(eventName, preventDefaults, false);
            document.body.addEventListener(eventName, preventDefaults, false);
        });

        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        ['dragenter', 'dragover'].forEach(eventName => {
            uploadArea.addEventListener(eventName, () => uploadArea.classList.add('dragover'), false);
        });

        ['dragleave', 'drop'].forEach(eventName => {
            uploadArea.addEventListener(eventName, () => uploadArea.classList.remove('dragover'), false);
        });

        uploadArea.addEventListener('drop', handleDrop, false);

        function handleDrop(e) {
            let dt = e.dataTransfer;
            let files = dt.files;
            handleFiles(files);
        }
        
        // --- File input change event ---
        fileInput.addEventListener('change', (e) => {
            handleFiles(e.target.files);
        });

        // --- Handle file processing ---
        function handleFiles(files) {
            if (files.length > 0) {
                const file = files[0];
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        imagePreview.src = e.target.result;
                        showPreview();
                    };
                    reader.readAsDataURL(file);
                } else {
                    alert('Please upload an image file.');
                }
            }
        }
        
        function showPreview() {
            uploadContainer.classList.add('hidden');
            previewContainer.classList.remove('hidden');
            resultSection.classList.add('hidden');
            resultContent.classList.add('hidden');
            loaderContainer.classList.remove('hidden');
        }
        
        function hidePreview() {
            uploadContainer.classList.remove('hidden');
            previewContainer.classList.add('hidden');
            resultSection.classList.add('hidden');
            fileInput.value = ''; // Reset file input
        }

        removeImageBtn.addEventListener('click', hidePreview);

        // --- Simulated Model Identification ---
        identifyBtn.addEventListener('click', () => {
            resultSection.classList.remove('hidden');
            resultContent.classList.add('hidden');
            loaderContainer.style.display = 'flex';
            
            // Simulate API call delay
            setTimeout(runSimulatedAnalysis, 2500);
        });
        
        function runSimulatedAnalysis() {
            const breeds = [
                {
                    name: 'Indian Pariah Dog (Indog)',
                    description: 'The quintessential Indian street dog, known for its resilience, intelligence, and adaptability. They have a short coat, a curled tail, and erect ears.',
                    image: 'https://placehold.co/600x400/d2b48c/FFFFFF?text=Indog',
                },
                {
                    name: 'Kombai',
                    description: 'A powerful and loyal sighthound breed from Tamil Nadu, originally used for hunting. They have a reddish-brown coat and a black mask.',
                    image: 'https://placehold.co/600x400/8b4513/FFFFFF?text=Kombai',
                },
                {
                    name: 'Rajapalayam',
                    description: 'A regal and graceful sighthound from Tamil Nadu, known for its milky-white coat and pink nose. They are fiercely loyal and protective.',
                    image: 'https://placehold.co/600x400/f5f5dc/333333?text=Rajapalayam',
                },
                {
                    name: 'Mudhol Hound',
                    description: 'An elegant sighthound from the Deccan Plateau, known for its incredible speed and stamina. They have a long, narrow head and a lean body.',
                    image: 'https://placehold.co/600x400/c2b280/FFFFFF?text=Mudhol+Hound',
                },
                 {
                    name: 'Bakharwal Dog',
                    description: 'A fluffy and powerful livestock guardian dog from the Himalayas. They are gentle with their family but protective against intruders.',
                    image: 'https://placehold.co/600x400/a9a9a9/FFFFFF?text=Bakharwal',
                },
                {
                    name: 'Chippiparai',
                    description: 'A sighthound breed from Tamil Nadu, known for its slender and elegant build. They are excellent hunters and loyal companions.',
                    image: 'https://placehold.co/600x400/deb887/FFFFFF?text=Chippiparai'
                },
                {
                    name: 'Gaddi Kutta',
                    description: 'A mastiff-type mountain dog from the Himalayas, used by local shepherds. They are strong, courageous, and known for being gentle giants with their families.',
                    image: 'https://placehold.co/600x400/2F4F4F/FFFFFF?text=Gaddi+Kutta'
                },
                {
                    name: 'Kanni',
                    description: 'A rare sighthound breed from Tamil Nadu, related to the Chippiparai. They are known for their loyalty and shy temperament, typically with a black and tan coat.',
                    image: 'https://placehold.co/600x400/4b3621/FFFFFF?text=Kanni'
                },
                {
                    name: 'Rampur Greyhound',
                    description: 'A fast and powerful sighthound from the Rampur region of Northern India. They are known for their endurance and were historically used to hunt large game.',
                    image: 'https://placehold.co/600x400/808080/FFFFFF?text=Rampur+Greyhound'
                },
                {
                    name: 'Mixed Breed',
                    description: 'A beautiful dog with a unique heritage from multiple breeds. Mixed breed dogs are often very healthy, intelligent, and have wonderful temperaments.',
                    image: 'https://placehold.co/600x400/9b7d6b/FFFFFF?text=Mixed+Breed',
                }
            ];
            
            const randomBreed = breeds[Math.floor(Math.random() * breeds.length)];
            const confidence = Math.floor(Math.random() * (96 - 75 + 1)) + 75;

            displayResults(randomBreed, confidence);
        }
        
        function displayResults(breed, confidence) {
            loaderContainer.style.display = 'none';

            resultContent.innerHTML = `
                <h2 class="text-2xl font-bold text-slate-800 mb-2">Identification Result</h2>
                <div class="bg-slate-100 p-6 rounded-lg text-left">
                    <div class="md:flex md:items-start md:gap-6">
                        <img src="${breed.image}" alt="Image of ${breed.name}" class="w-full md:w-1/3 h-auto rounded-md shadow-sm mb-4 md:mb-0" onerror="this.src='https://placehold.co/400x300/cccccc/ffffff?text=Image+Not+Found'">
                        <div class="md:w-2/3">
                            <p class="text-sm text-slate-500">Top Match</p>
                            <h3 class="text-2xl font-bold text-blue-600">${breed.name}</h3>
                            <div class="w-full bg-slate-200 rounded-full h-2.5 my-3">
                                <div class="bg-blue-600 h-2.5 rounded-full" style="width: ${confidence}%"></div>
                            </div>
                            <p class="text-slate-700 font-semibold mb-3">${confidence}% Confidence</p>
                            <p class="text-slate-600 text-sm">${breed.description}</p>
                        </div>
                    </div>
                </div>
            `;
            
            resultContent.classList.remove('hidden');
        }

    </script>
</body>
</html>



